(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5cc7258a"],{"062f":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"80px"}},[n("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"150px",size:"medium"}},[n("el-form-item",{attrs:{label:"隧道名称",prop:"tunnelname"}},[n("el-input",{staticStyle:{width:"50%"},model:{value:e.form.tunnelname,callback:function(t){e.$set(e.form,"tunnelname",t)},expression:"form.tunnelname"}})],1),n("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"目的IP"}},[n("el-input",{model:{value:e.form.targetip,callback:function(t){e.$set(e.form,"targetip",t)},expression:"form.targetip"}})],1),n("el-form-item",{staticStyle:{width:"50%"},attrs:{label:"目的端口"}},[n("el-input",{model:{value:e.form.targetport,callback:function(t){e.$set(e.form,"targetport",t)},expression:"form.targetport"}})],1),n("el-form-item",{attrs:{label:"选择客户端证书"}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:1,"on-exceed":e.handleExceed,"file-list":e.fileList}},[n("el-button",{attrs:{size:"small"}},[e._v("点击上传")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("上传证书文件(.pem),默认使用本机证书")])],1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",loading:e.testFlag},on:{click:e.onSubmit}},[e._v("立即测试")]),n("el-button",[e._v("取消")])],1)],1)],1)},l=[],a=(n("99af"),n("b0c0"),n("7002")),o={data:function(){return{form:{tunnelname:"testtunnel",targetip:"127.0.0.1",targetport:"7788"},rules:{tunnelname:[{required:!0,message:"请输入名称",trigger:"blur"},{min:3,max:12,message:"长度在 3 到 12 个字符",trigger:"blur"}]},fileList:[],message:"",testFlag:!1}},methods:{onSubmit:function(){var e=this;this.testFlag=!0;var t={tunnelname:this.form.tunnelname,targetip:this.form.targetip,targetport:this.form.targetport};Object(a["c"])(t).then((function(t){console.log(t),e.testFlag=!1,e.message=t.data.message,e.$alert(e.message,"隧道测试结果",{confirmButtonText:"确定"})})).catch((function(e){console.error(e)}))},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))}}},i=o,s=n("2877"),c=Object(s["a"])(i,r,l,!1,null,null,null);t["default"]=c.exports},7002:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n("b775");function l(e){return Object(r["a"])({url:"/api/test_tennel",method:"get",headers:e})}function a(){return Object(r["a"])({url:"/api/tunnel_manage/getalltunnels",method:"get"})}function o(){return Object(r["a"])({url:"/api/certificates/getallcerts",method:"get"})}}}]);